import org.locationtech.jts.geom.GeometryFactory
import org.locationtech.jts.geom.Geometry
import org.locationtech.jts.geom.Polygon
import org.locationtech.jts.geom.Coordinate
import org.locationtech.jts.io.WKTReader

// a Coordinate is simply a point on the plane, with optional height
// a Point is a Geometry

GeometryFactory factory = new GeometryFactory( )

def ourLat = 53.52904
def ourLon = -113.46945
def ourWkt = "POINT (${ourLon} ${ourLat})"

//Coordinate myCoordinate = new Coordinate( ourLat, ourLon )
//Geometry myPoint = factory.createPoint( myCoordinate )

def bonniegon = """POLYGON ((-113.47441462027263 53.53261963854902, -113.47414992133302 53.53267662902344, -113.47294605388649 53.53231427448118, -113.47154787704457 53.53173466656495, -113.47113103222405 53.531600034457746, -113.46934897257492 53.53056830436176, -113.4683555022108 53.52999344871682, -113.46689425672118 53.529374507024876, -113.46538052594222 53.52872589824991, -113.46385958353342 53.52801050092622, -113.46298516634249 53.52758953348257, -113.46160021362269 53.526792331192944, -113.45917851458579 53.52542994646575, -113.45877391474976 53.52530710237752, -113.45747004052288 53.525256224072116, -113.45548361400674 53.52315274626157, -113.45525975753158 53.52285308094257, -113.45517629085282 53.52257387683466, -113.45517815249477 53.52214461123752, -113.4551612195249 53.520032229436644, -113.4551116550094 53.517998928608236, -113.45830743178327 53.51799762084096, -113.46135670990417 53.51802965247472, -113.46438954244577 53.51802663333425, -113.46742949126481 53.51802626693432, -113.47015182336318 53.51802981818093, -113.47175644260517 53.51803258188296, -113.47176077019418 53.51819456850501, -113.47214871997896 53.51849683845365, -113.47242460940406 53.51857848861633, -113.47114183978954 53.51858074861583, -113.47114177720104 53.51853969586204, -113.47030931025458 53.51853980262571, -113.47015404450634 53.51854085426315, -113.4701562656609 53.5190518903017, -113.47192499862356 53.519046326458714, -113.47227391278813 53.51904821285147, -113.47227469018465 53.51913858865939, -113.47227658513057 53.51954281841147, -113.47192690394336 53.51954293752019, -113.4716716522173 53.519543637567, -113.47167145998175 53.51956847852355, -113.47167301012821 53.52012853846813, -113.47248601984683 53.5201274486068, -113.47249485004362 53.52193507930437, -113.47308013571403 53.52193428468698, -113.47459546984727 53.521931718351176, -113.47459681378189 53.52240509632746, -113.47476037488121 53.522405189224884, -113.47488279990039 53.52287962761751, -113.47610634017818 53.52287788724386, -113.47611489024513 53.523497358543416, -113.47309317215075 53.52348630457023, -113.47309450442238 53.52374598874605, -113.47324277981951 53.52374670859397, -113.47418513993775 53.52377574856174, -113.47503601028039 53.5238593982918, -113.47533993007227 53.52394208836512, -113.47535407969526 53.525897318557206, -113.4731068284805 53.525895811512235, -113.47311597830605 53.52714017107978, -113.47418666424846 53.52713887605916, -113.47418751490876 53.527229358495966, -113.47505981000414 53.52722982848151, -113.4750748398508 53.529052058665826, -113.47507558010932 53.52918900848529, -113.47513143747145 53.529274538386325, -113.47522801346742 53.52953206222501, -113.475232587979 53.530147003306574, -113.47629244988671 53.530145348644645, -113.476292490083 53.5301640386164, -113.47727334971972 53.53034292841396, -113.47914060995838 53.5309584886518, -113.47944401992488 53.53095830846666, -113.47944507015272 53.53171609837235, -113.47929339011249 53.53171538829699, -113.47929392031791 53.53209747866458, -113.47930533025796 53.53261016867773, -113.47633960023194 53.53260886838242, -113.47441462027263 53.53261963854902))"""

def geomReader = new WKTReader()
def poly = geomReader.read( bonniegon )
def myPoint = geomReader.read( ourWkt )

if( poly.contains(myPoint) ) {
    println "contains"
} else {
    println "OUTSIDE"
}